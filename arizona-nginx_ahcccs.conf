server {
	ssl_certificate /etc/ssl/private/ss_fwafinder.pem;
	ssl_certificate_key /etc/ssl/private/ss_fwafinder.key;
#   ssl_password_file /etc/ssl/private/ss_aliviaanalytics_pw.txt;
	listen 20.81.233.96:443 ssl http2;
	server_name damandev.aliviaanalytics.com;
	location /ai-web/ {
		proxy_pass http://10.191.80.17:8084/ai-web/;
		add_header X-Content-Type-Options "nosniff";
		add_header Strict-Transport-Security "max-age=31536000" always;
	}
	location /cmt-web {
		proxy_pass http://10.191.80.17:8084/cmt-web;
	}
	location /caseFinance/ {
		proxy_pass http://10.191.80.17:9971/caseFinance/;
	}
	location /claim-management-postpay/ {
		proxy_pass http://10.191.80.17:6069/claim-management-postpay/;
	}
	location /cacheRouter {
		proxy_pass http://cacheRouterCluster819/cacheRouter;
	}
	location /claimManager/ {
		proxy_pass http://10.191.80.17:9001/claimManager/;
	}
	location /activityLogger/ {
		proxy_pass http://10.191.80.17:9284/activityLogger/;
	}
	location /ai-activity-logger/ {
		proxy_pass http://10.191.80.17:9284/ai-activity-logger/;
	}

	location /case/cmt-messaging-socket/ {
		proxy_set_header Host $host;
		proxy_pass http://10.191.80.17:8088/case/cmt-messaging-socket/;
		proxy_http_version 1.1;
		proxy_set_header Upgrade $http_upgrade;
		proxy_set_header Connection "upgrade";
	}
	location /case/ {
		proxy_set_header Host $host;
		proxy_pass http://10.191.80.17:8088/case/;
		proxy_http_version 1.1;
		proxy_set_header Upgrade $http_upgrade;
		proxy_set_header Connection "upgrade";
	}
	location /ai-reporting/ {
		proxy_set_header Host $host;
		proxy_pass http://10.191.80.17:8089/ai-reporting/;
		proxy_http_version 1.1;
		proxy_set_header Upgrade $http_upgrade;
		proxy_set_header Connection "upgrade";
	}
	location /help/ {
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Host $host;
		proxy_pass http://10.191.80.17:8084/help/;
		proxy_http_version 1.1;
		proxy_set_header Upgrade $http_upgrade;
		proxy_set_header Connection "upgrade";
	}
	location /entity-search {
		proxy_pass http://10.191.80.17:8087/entity-search;
	}

	location /ai-claims-tracker {
		proxy_pass http://10.191.80.17:8092/ai-claims-tracker;
	}

	location /admin-web {
		proxy_pass http://10.191.80.17:8084/admin-web;
		add_header Strict-Transport-Security "max-age=31536000" always;
	}
#   location /alivia-security-application/login/saml2/ {
#proxy_pass https://psqa.fwafinder.com/alivia-security-application/login/saml2/;
#       add_header X-Content-Type-Options "nosniff";
#      add_header Strict-Transport-Security "max-age=31536000" always;
#}
	location /alivia-security-application {
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Host $host;
#proxy_pass https://alivia-security-service.aliviaanalytics.com:9141;
		proxy_pass https://10.191.80.17:9141/alivia-security-application;
#proxy_pass https://psqa.fwafinder.com/alivia-security-application;
		add_header X-Content-Type-Options "nosniff";
		add_header Strict-Transport-Security "max-age=31536000" always;
		proxy_set_header X-Forwarded-Proto $scheme;

	}
	location  /api/manual {
		proxy_pass http://10.191.80.17:3000/api/manual;
	}  
	location  /api/faqs {
		proxy_pass http://10.191.80.17:3000/api/faqs;
	}
	location /ai-web/fwa-websocket-endpoint/ { 
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Host $host;
		proxy_pass http://10.191.80.17:8084/ai-web/fwa-websocket-endpoint/;
		proxy_http_version 1.1;
		proxy_set_header Upgrade $http_upgrade;
		proxy_set_header Connection "upgrade";
	}
	location /ai-messenger {
		proxy_pass http://10.191.80.17:8095/ai-messenger;
	}
	location /ai-reporting/ai-reporting-messaging-socket/ {
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Host $host;
		proxy_pass http://10.191.80.17:8089/ai-reporting/ai-reporting-messaging-socket/;
		proxy_http_version 1.1;
		proxy_set_header Upgrade $http_upgrade;
		proxy_set_header Connection "upgrade";
	}
	location /gpt-creator/ {
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Host $host;
		proxy_pass http://10.191.80.17:8084/gpt-creator/;
		proxy_http_version 1.1;
		proxy_set_header Upgrade $http_upgrade;
		proxy_set_header Connection "upgrade";
	}
	location /taskAlert {
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Host $host;
		proxy_pass http://10.191.80.17:9185/taskAlert;
		proxy_http_version 1.1;
		proxy_set_header Upgrade $http_upgrade;
		proxy_set_header Connection "upgrade";
	}
	location /ai_polish_calculator/ {
		proxy_pass http://10.191.80.17:6020/ai_polish_calculator/;
	}
	location /ai-globalSearch/ {
		proxy_pass http://10.191.80.17:9268/ai-globalSearch/;
	}
	location /aliviaaidsservice/gpt-creator {
		proxy_pass http://10.191.80.17:8003/aliviaaidsservice/gpt-creator;
	}
	location /caseListViewer {
		proxy_pass http://caseListCluster819/caseListViewer;
	}
	location /createCase {
		proxy_pass http://createCaseCluster819/createCase;
	}
	location /caseListCache { 
		proxy_pass http://caseListCacheCluster819/caseListCache;
	}
	location /initiativeListCache {
		proxy_pass http://initiativeListCluster819/initiativeListCache;
	}
	location /ai-messenger/notifications-socket/ {
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Host $host;
		proxy_pass http://10.191.80.17:8095/ai-messenger/notifications-socket/;
		proxy_http_version 1.1;
		proxy_set_header Upgrade $http_upgrade;
		proxy_set_header Connection "upgrade";
	}
	location / {
		add_header Strict-Transport-Security "max-age=31536000" always;
		proxy_pass https://10.191.80.17/;
		proxy_set_header Host $host;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header X-Forwarded-Proto $scheme;

	}
	location /caseTransition {
		proxy_pass http://caseTransitionCluster819/caseTransition;
	}
	location /providerPortal/ {
		proxy_pass http://10.191.80.17:7779/providerPortal/;
	} 
	location /provider-portal/ {
		proxy_pass http://10.191.80.17:8084/provider-portal/;

	}
	location /ai-prevented-loss-calculator/ {
		proxy_pass http://10.191.80.17:8091/ai-prevented-loss-calculator/;
	}

	location /caseTransitionRouter {
		proxy_pass http://caseTransitionRouterCluster819/caseTransitionRouter;
	}
	location /caseFileCache {
		proxy_pass http://caseFileCacheCluster819/caseFileCache;
	}
	location /initiativeCaseListCache {
		proxy_pass http://initiativeCaseListCluster819/initiativeCaseListCache;
	}
	location /alivia-admin {
		proxy_pass http://10.191.80.17:9187;
		add_header Strict-Transport-Security "max-age=31536000" always;
	}
	location /recovery {
		proxy_pass http://recoveryServiceCluster819/recovery;
	}
	access_log /var/log/nginx/damandev-access.log;
	error_log /var/log/nginx/damandev-error.log; 
}
upstream caseListCluster819 {
# The upstream elements lists all
# the backend servers that take part in 
# the Nginx load balancer example
	server 10.191.80.17:9995 weight=2;
#server localhost:51515 weight=2;
#server localhost:51516 weight=2;
}
upstream caseFileCacheCluster819 { 
# The upstream elements lists all
# the backend servers that take part in
# the Nginx load balancer example
	server 10.191.80.17:9989 weight=2; 
# server localhost:41515 weight=2; 
}
upstream initiativeCaseListCluster819 {
	server 10.191.80.17:9988 weight=2;
}
upstream createCaseCluster819 {
# The upstream elements lists all
# the backend servers that take part in 
# the Nginx load balancer example
	server 10.191.80.17:9996 weight=2;
#server localhost:41515 weight=2;
}
upstream caseListCacheCluster819 {
	server 10.191.80.17:9998 weight=2;
}
upstream initiativeListCluster819 {
	server 10.191.80.17:9999 weight=2;
}
upstream caseTransitionCluster819 {
	server 10.191.80.17:9990 weight=2;
}
upstream recoveryServiceCluster819 {
	server 10.191.80.17:9184 weight=2;
}
upstream cacheRouterCluster819 {
# The upstream elements lists all
# the backend servers that take part in
# the Nginx load balancer example
	server 10.191.80.17:9181 weight=2;
}
upstream caseTransitionRouterCluster819{
#The upstream elements lists all
#the backend servers that take part in
#the Nginx load balancer example
	server 10.191.80.17:9183 weight=2;
#server localhost:41515 weight=2;
}
upstream claimManagementPostpayCluster819 {
	server 10.191.80.17:6069 weight=2;
}
upstream postPayFinanceCluster819 {
	server 10.191.80.17:9971 weight=2;
}
